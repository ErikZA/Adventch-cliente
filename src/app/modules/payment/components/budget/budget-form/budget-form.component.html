<div fxLayout="row" fxFlexFill fxLayoutAlign="center" *ngIf="!!loading" style="padding-top: 25vh;">
  <mat-spinner></mat-spinner>
</div>
<form [formGroup]="form" fxLayout="column" ngStyle.gt-sm="margin: 0px 40px" ngStyle.lt-md="margin: 0px 10px" *ngIf="!loading"
  (keydown.enter)="$event.preventDefault()">
  <app-header-form [title]="labelTitle()"></app-header-form>
  <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="center">
    <div fxLayout="column wrap" fxFlex="50%">
      <div fxLayout="row wrap" fxLayout.lt-md="column" fxLayoutGap.gt-sm="20px">
        <mat-form-field fxFlex="45%">
          <input matInput type="number" formControlName="year" placeholder="Ano" required>
          <mat-error *ngIf="form.get('year').hasError('required')">Este campo é obrigatório</mat-error>
        </mat-form-field>

        <mat-form-field fxFlex="50%" style="float: right">
          <input matInput type="number" formControlName="value" placeholder="Valor" required >
          <mat-error *ngIf="form.get('value').hasError('required')">Este campo é obrigatório</mat-error>
        </mat-form-field>
      </div>

      <mat-form-field>
        <mat-select placeholder="Departamento" formControlName="departmentId" required>
          <mat-option *ngFor="let department of departments" [value]="department.id">
            {{ department.name }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('departmentId').hasError('required')">Este campo é obrigatório</mat-error>
      </mat-form-field>
      <div fxLayout="row" fxLayoutAlign="space-between" fxFlexOffset="40px">
        <a mat-button type="button" routerLink="/pagamentos/orcamentos">CANCELAR</a>
        <button mat-raised-button type="submit" (click)="save()" color="primary" [disabled]="isSending">SALVAR</button>
      </div>
    </div>
  </div>
</form>
