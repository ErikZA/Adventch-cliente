<app-layout-main></app-layout-main>

<!-- <mat-toolbar color="primary" style="background-color: #2094c8" class="mat-elevation-z6">
    <button mat-icon-button (click)="sidenav.toggle()">
      <mat-icon>menu</mat-icon>
    </button>
    <a fxLayout="row" class="logo-adven" [routerLink]="['/']">
        <img src="../../../../favicon.ico" style="width: 30px; height: 30px;" class="click" />
        <div style="margin-left: 10px;" class="click">Adven.tech</div>
    </a>
    <mat-menu [overlapTrigger]="false" #appMenuSoftware="matMenu">
        <div *ngFor="let item of (lstUnits)">
            <button mat-menu-item (click)="updateUnit(item); redirectToHome();" [class.selected]="unit?.id === item.id" [disabled]="unit?.id === item.id">
            <mat-icon>fiber_manual_record</mat-icon>
            <span>{{ item.name }}</span>
        </button>
        </div>
    </mat-menu>
    <span class="fill-space"></span>
    <div fxLayout="row" fxLayoutAlign="end">
        <button mat-button [matMenuTriggerFor]="appMenuSoftware" *ngIf="lstUnits.length > 1" fxShow fxHide.xs>
      <span>{{ unit.name }}</span>
      <mat-icon class="margin-left-10">business</mat-icon>
    </button>
        <button mat-button *ngIf="lstUnits.length == 1" disabled style="color:rgb(255, 255, 255);" fxShow fxHide.xs>
      <span>{{ unit.name }}</span>
      <mat-icon class="margin-left-10">business</mat-icon>
    </button>
        <button mat-icon-button [matMenuTriggerFor]="appMenuSoftware" *ngIf="lstUnits.length > 1" fxHide fxShow.xs>
      <mat-icon>business</mat-icon>
    </button>
        <button mat-icon-button *ngIf="lstUnits.length == 1" disabled style="color:rgb(255, 255, 255);" fxHide fxShow.xs>
      <mat-icon>business</mat-icon>
    </button>

        <button mat-icon-button [matMenuTriggerFor]="appMenu" fxHide fxShow.xs>
      <mat-icon>account_circle</mat-icon>
      </button>
        <button mat-button [matMenuTriggerFor]="appMenu" fxShow fxHide.xs>
            {{ user?.firstName }}
        </button>
    </div>
    <mat-menu [overlapTrigger]="false" xPosition="before" #appMenu="matMenu">
        <button mat-menu-item (click)="changeProfile()">
      <mat-icon>person</mat-icon>
      <span>Editar perfil</span>
    </button>
        <button mat-menu-item (click)="logoff()">
      <mat-icon>exit_to_app</mat-icon>
      <span>Sair</span>
    </button>
        <mat-divider></mat-divider>
        <button mat-menu-item [routerLink]="['/notas-da-versao']">
      <mat-icon>speaker_notes</mat-icon>
      <span>Notas da Versão</span>
    </button>
    </mat-menu>
</mat-toolbar>
<mat-drawer-container class="container" autosize>
    <mat-drawer #sidenav class="sidenav-left mat-elevation-z5" [mode]="isOpen ? 'side' : 'over'" [opened]="isOpen">
        <mat-nav-list id="nav-list-menu" [ngClass]="{'nav-list-mobile': isMobile, 'nav-list-web': !isMobile}">
            <mat-accordion>
                <ng-container *ngIf="checkUserIsAdmin()">
                    <mat-expansion-panel [expanded]="isRouteActive('/administracao')"> -->
<!--Novo Módulo-->
<!-- <mat-expansion-panel-header class="background-side-nav">
                            <mat-panel-title>Administração</mat-panel-title>
                        </mat-expansion-panel-header>
                        <a mat-list-item routerLinkActive="active-sub-menu" [routerLink]="['/administracao/papeis']">Papéis</a>
                        <a mat-list-item routerLinkActive="active-sub-menu" [routerLink]="['/administracao/usuarios']">Usuários</a>
                    </mat-expansion-panel>
                </ng-container>
                <mat-expansion-panel [expanded]="isRouteActive('/tesouraria')" [disabled]="!this.checkPermissionSoftware(6)" matTooltip="Sessão indisponível" [matTooltipDisabled]="this.checkPermissionSoftware(6)" matTooltipPosition="below"> -->
<!--Novo Módulo-->
<!-- <mat-expansion-panel-header class="background-side-nav">
                        <mat-panel-title (click)="redirectToTreasury()">Tesouraria</mat-panel-title>
                    </mat-expansion-panel-header>
                    <ng-template [Feature]="47">
                        <a mat-list-item routerLinkActive="active-sub-menu" [routerLink]="['/tesouraria/distritos']">Distritos</a>
                    </ng-template>
                    <ng-template [Feature]="48">
                        <a mat-list-item routerLinkActive="active-sub-menu" [routerLink]="['/tesouraria/igrejas']">Igrejas</a>
                    </ng-template>
                    <ng-template [Feature]="38">
                        <a mat-list-item routerLinkActive="active-sub-menu" [routerLink]="['/tesouraria/tesoureiros']">Tesoureiros</a>
                    </ng-template>
                    <ng-template [Feature]="49">
                        <a mat-list-item routerLinkActive="active-sub-menu" [routerLink]="['/tesouraria/observacoes']">Observações</a>
                    </ng-template>
                    <ng-template [Feature]="55" permission="2">
                        <a mat-list-item routerLinkActive="active-sub-menu" [routerLink]="['/tesouraria/requisitos']">Requisitos</a>
                    </ng-template>
                    <ng-template [Feature]="51">
                        <a mat-list-item routerLinkActive="active-sub-menu" [routerLink]="['/tesouraria/avaliacoes']">Avaliações</a>
                    </ng-template>
                </mat-expansion-panel>
                <mat-expansion-panel [expanded]="isRouteActive('/bolsas')" [disabled]="!this.checkPermissionSoftware(7)" matTooltip="Sessão indisponível" [matTooltipDisabled]="this.checkPermissionSoftware(7)" matTooltipPosition="below"> -->
<!--Novo Módulo-->
<!-- <mat-expansion-panel-header class="background-side-nav">
                        <mat-panel-title (click)="redirectToDashboard()">Bolsas de Estudo</mat-panel-title>
                    </mat-expansion-panel-header>
                    <ng-template [Feature]="40" permission="2">
                        <a mat-list-item routerLinkActive="active-sub-menu" [routerLink]="['/bolsas/processos']">Processos</a>
                    </ng-template>
                    <ng-template [Feature]="40" permission="1">
                        <button mat-button type="button" class="new-process" [disabled]="(scholarshipService.schoolSelected === -1 && authService.getCurrentUser().idSchool === 0) || router.url.indexOf('bolsas') === -1" (click)="openSidenav()" routerLink="/bolsas/processos/novo"
                            [class.new-process-disabled]="scholarshipService.schoolSelected == -1 && authService.getCurrentUser().idSchool == 0">Novo Processo</button>
                    </ng-template>
                </mat-expansion-panel>
            </mat-accordion>
        </mat-nav-list>
    </mat-drawer>

    <div fxLayout="column" class="page-container mat-elevation-z4" fxFlex.gt-md="94%" fxFlex="100%">
        <router-outlet></router-outlet>
        <footer fxLayout="row" [ngStyle]="{'position': 'relative'}">
            <div fxFlex="155px" class="footer-unit" fxHide.xs>©FORLOGIC 2004 - {{year}}</div>
            <div fxFlex="145px" class="footer-software">
                <div style="width: 90px; float: left">Adven.tech</div>
                <div style="width: 30px; float: right; text-align: right">
                    <a [routerLink]="['/notas-da-versao']">{{ releaseNotes.currentVersion }}</a>
                </div>
            </div>
        </footer>
    </div>
</mat-drawer-container> -->